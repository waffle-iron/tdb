<template name="attachmentsAddFromUpload">
  <div class="row">
    <div class="col-xs-8">
      {{> smartInputFile onUploadBegin=onUploadBegin onUploadSuccess=onUploadSuccess uploadOnFileSelected="true" onUploadCancel=onUploadCancel}}
      
      {{#autoForm id="insertAttachmentFromUploadForm" 
        doc=attachmentFromUpload 
        collection="Attachments" 
        type="method" 
        meteormethod="Attachments.methods.add" 
        class="form-horizontal" }}
        {{> afQuickField name="name" label-class="col-sm-2" input-col-class="col-sm-10"}} 
        {{> afQuickField name="type" label-class="col-sm-2" input-col-class="col-sm-10"}} 
        {{> afQuickField name="description" label-class="col-sm-2" input-col-class="col-sm-10"}}
        {{> afQuickField name="from" type='hidden'}}
        {{> afQuickField name="file._id" type='hidden'}} 
        {{> afQuickField name="file.type" type='hidden'}} 
        {{> afQuickField name="file.s3Url" type='hidden'}}
        {{> afQuickField name="file.sourceUrl" type='hidden'}}
        {{> submit texto="Create" buttonClass="col-sm-10" offsetClass="col-sm-offset-2"}}
      {{/autoForm}}
    </div>
    <div class="col-xs-4">
      {{> attachmentPreview
        attachment=attachmentFromUpload
        fileObjId=fileObjFromUpload._id
        isUploading=isUploading}}
    </div>
  </div>
</template>
