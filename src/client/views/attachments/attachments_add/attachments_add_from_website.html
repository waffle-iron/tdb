<template name="attachmentsAddFromWebsite">
  <div class="row">
    <div class="col-xs-8">
      {{> searchMetadata onSuccess=onFetchMetadataSuccess}}
      {{#autoForm id="insertAttachmentFromWebForm" 
        doc=attachmentFromWeb collection="Attachments" 
        type="method" 
        meteormethod="Attachments.methods.add" 
        class="form-horizontal"}}
        {{> afQuickField name="name" label-class="col-sm-2" input-col-class="col-sm-10"}} 
        {{> afQuickField name="web.thumbnailUrl" label-class="col-sm-2" input-col-class="col-sm-10"}} 
        {{> afQuickField name="type" label-class="col-sm-2" input-col-class="col-sm-10"}} 

        {{> afQuickField name="description" label-class="col-sm-2" input-col-class="col-sm-10"}} 
        {{> afQuickField name="web.sourceUrl" type='hidden'}} 
        {{> submit texto="Create" buttonClass="col-sm-10" offsetClass="col-sm-offset-2"}} 
      {{/autoForm}}
    </div>
    <div class="col-xs-4">
      <div class="panel panel-default">
        <div class="panel-heading">
          <h3>Image Preview</h3>
        </div>
        <div class="panel-body">
          {{#if attachmentFromWeb.web.thumbnailUrl}}
            {{> safeImg url=(c.url attachmentFromWeb.web.thumbnailUrl width='400' height='400' crop='fit' type='fetch') 
              class='img-responsive margin-auto' 
              width='400' height='400'}}
          {{else}}
            <div class="empty-message">
              <i class='fa fa-file-image-o'></i>
              <h3> Waiting for image url</h3>
            </div>
          {{/if}}
        </div>
      </div>
    </div>
  </div>
</template>
